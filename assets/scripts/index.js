'use strict'

const ui = require('./ui')
const events = require('./events')

// use require with a reference to bundle the file and use it in this file
// const example = require('./example')

// use require without a reference to ensure a file is bundled
// require('./example')

$(() => {
  $('#form-signup').hide()
  $('#form-signin').hide()
  $('#form-menuitemcreate').hide()
  $('#navbar').hide()
  $('#usr-navbar').hide()
  $('#form-changepassword').hide()
  $('#btn-signup').click(ui.showSignUpForm)
  $('#btn-signin').click(ui.showSignInForm)
  $('#btn-signup-submit').on('submit', events.signUp)
  $('#btn-signin-submit').on('submit', events.signIn)
  $('#lnk-signup-cancel').on('click', ui.showHomeScreen)
  $('#lnk-signin-cancel').on('click', ui.showHomeScreen)
  $('#navbar-adminhome').on('click', ui.showAdminHomeScreen)
  $('#usr-navbar-userhome').on('click', ui.showUserHomeScreen)
  $('#btn-menuitemedit-submit').on('click', events.updateMenuItem)
  $('#btn-menuitemcreate-submit').on('submit', events.createMenuItem)
  $('#navbar-menuitemsview').on('click', events.getMenuItems)
  $('#usr-navbar-menuitemsview').on('click', events.getMenuItems)
  $('#navbar-menuitemcreate').on('click', ui.showMenuCreateItemForm)
  $('#navbar-changepassword').on('click', ui.showChangePasswordForm)
  $('#usr-navbar-changepassword').on('click', ui.showChangePasswordForm)
  $('#btn-changepw-submit').on('submit', events.changePassword)
  $('#navbar-signout').on('click', events.signOut)
  $('#usr-navbar-signout').on('click', events.signOut)
  $('body').on('click', '.edit', events.extractId)
  $('body').on('click', '.order', events.extractId)
  $('body').on('click', '.delete', events.extractId)
  $('body').on('click', '#delete', events.deleteItemConfirmed)
  $('body').on('submit', '#btn-menuitemedit-submit', events.updateMenuItem)
  $('body').on('click', '.usredt', events.extractId)
  $('body').on('click', '.usrdel', events.extractId)
  $('#navbar-viewusers').on('click', events.viewUsers)
  $('#navbar-createuser').on('click', () => {
    console.log('createuser click worked')
    $('#form-signup').show()
    $('.tgl-text').text('Create New User')
    // $('.cancel').text('Click here to cancel')
    $('.cancel').html(`<p>Click <a id="lnk-signup-cancel" href="#">here</a> to cancel and return to the main menu!</p>`)
    $('body').on('click', '#lnk-signup-cancel', ui.showAdminHomeScreen)
  })
  $('body').on('submit', '#btn-useredit-submit', events.updateUser)
  $('body').on('submit', '.order', events.updateUser)
  // $('#btn-useredit-submit').on('click', events.updateUser)
  // $('.edit').on('click', function () {
  // })
  // $('#btn-div').hide()
})
